function SearchResultsHL(hlstrings){var HLStrings=hlstrings.split(' ');var Changed=0;var Hcode=document.getElementById('searchresults').innerHTML
for(i=0;i<HLStrings.length;i++){if(HLStrings[i].length>2&&HLStrings[i]!='quot'){HLStrings[i]=HLStrings[i].replace('.','\.');HLStrings[i]=HLStrings[i].replace(/[&<>]/,'.');HLStrings[i]='(>[^<>]*)('+HLStrings[i]+')';var SearchToReplace=new RegExp(HLStrings[i],'gi');Hcode=Hcode.replace(SearchToReplace,'$1<span class="searchresults">$2</span>');Changed=1;}}
if(Changed){document.getElementById('searchresults').innerHTML=Hcode;}}
var Slides={};function SlidesAppend(id,big_src,noAutoSlide){Slides[id]={};Slides[id]['imgsize']={sw:0,sh:0,bw:0,bh:0};Slides[id]['pos']=0;Slides[id]['timer']=null;Slides[id]['img']=null;Slides[id]['div']=null;Slides[id]['big_img']=null;Slides[id]['big_src']=big_src;Slides[id]['sml_src']='';Slides[id]['noAutoSlide']=noAutoSlide&&(noAutoSlide==2||noAutoSlide=='noauto');}
function SlidesInit(){try{for(var id in Slides){var img=__el(id);var img_st=getCurrentStyle(img);Slides[id]['img']=img;Slides[id]['sml_src']=img.src;Slides[id]['imgsize'].sw=img.attributes['width']?parseInt(img.attributes['width'].value):img.width;Slides[id]['imgsize'].sh=img.attributes['height']?parseInt(img.attributes['height'].value):img.height;Slides[id]['big_img']=document.createElement('img');Slides[id]['big_img'].src=Slides[id]['big_src'];var div=document.createElement('div');div.style.width=(parseInt(Slides[id]['imgsize'].sw)+parseInt(img_st.borderLeftWidth)+parseInt(img_st.borderRightWidth))+'px';div.style.height=(parseInt(Slides[id]['imgsize'].sh)+parseInt(img_st.borderTopWidth)+parseInt(img_st.borderBottomWidth))+'px';div.style.textAlign='left';div.className='cover_div';var imgparent=img.parentNode;var imgitem=img;if(imgparent.nodeName=='A'){imgitem=imgparent;imgparent=imgparent.parentNode;}
imgparent.insertBefore(div,imgitem);div.appendChild(imgitem);Slides[id]['div']=div;if(Slides[id]['noAutoSlide']){img.onclick=SlideImageIn;img.style.cursor='url(/static/new/i/zoomin.cur), pointer';}else{img.onmouseover=SlideImageIn;}
img.onmouseout=SlideImageOut;setTimeout('SlideImage (-100,"'+id+'")',1);}
setTimeout('_slides_wait_preload()',100);}catch(e){}}
var wait_cycles=0;function _slides_wait_preload(){var completed=1;for(var id in Slides){if(Slides[id]['big_img'].width>36.6){Slides[id]['imgsize'].bw=Slides[id]['big_img'].width;Slides[id]['imgsize'].bh=Slides[id]['big_img'].height;}else{completed=0;}}
if(!completed){wait_cycles++;setTimeout('_slides_wait_preload()',(wait_cycles>30)?3000:100);}}
function SlideImageIn(){SlideImage(+14,this.id);if(Slides[this.id]['noAutoSlide']){this.style.cursor='url(/static/new/i/zoomout.cur), pointer';this.onclick=SlideImageOut;var $self=$(this),$closest_border=$self.closest('.border');$self.css('z-index',1000);if($closest_border.length&&$self.closest('.new-book').length){$self.css('z-index',99999);$closest_border.css('z-index',99999);}}}
function SlideImageOut(){SlideImage(-20,this.id);if(Slides[this.id]['noAutoSlide']){this.style.cursor='url(/static/new/i/zoomin.cur), pointer';this.onclick=SlideImageIn;var $self=$(this),$closest_border=$self.closest('.border');$self.css('z-index','');if($closest_border.length&&$self.closest('.new-book').length){$closest_border.css('z-index','');}}}
function SlideImage(step,id){if(Slides[id]['timer'])clearTimeout(Slides[id]['timer']);if(!Slides[id]['imgsize'].bw){if((''+Slides[id]['img'].src).match('loading')){}
else{Slides[id]['img'].src='/static/img/loading.gif';}}else{Slides[id]['pos']+=step;if(Slides[id]['pos']>100)Slides[id]['pos']=100;if(Slides[id]['pos']<0)Slides[id]['pos']=0;if(Slides[id]['img'].style.position!='absolute'){Slides[id]['img'].src=Slides[id]['big_src'];Slides[id]['divOffset']=_getOffset(Slides[id]['div']);Slides[id]['img'].style.position='absolute';}
var dx=Slides[id]['pos']*(Slides[id]['imgsize'].bw-Slides[id]['imgsize'].sw)/100;var dy=Slides[id]['pos']*(Slides[id]['imgsize'].bh-Slides[id]['imgsize'].sh)/100;var cwidth=Math.floor(Slides[id]['imgsize'].sw+dx);var cheight=Math.floor(Slides[id]['imgsize'].sh+dy);var cleft=Math.floor(Slides[id]['divOffset'].X-dx/2);var ctop=Math.floor(Slides[id]['divOffset'].Y-dy/2);var bodySize=getBodySize();var minx=bodySize.left-Slides[id]['divOffset'].fullX+Slides[id]['divOffset'].X;var miny=bodySize.top-Slides[id]['divOffset'].fullY+Slides[id]['divOffset'].Y;var maxx=minx+parseInt(bodySize.width)-cwidth;var maxy=miny+parseInt(bodySize.height)-cheight;if(cleft<minx)cleft=minx;if(cleft>maxx)cleft=maxx;if(ctop<miny)ctop=miny;if(ctop>maxy)ctop=maxy;Slides[id]['img'].width=cwidth;Slides[id]['img'].height=cheight;Slides[id]['img'].style.left=cleft+'px';Slides[id]['img'].style.top=ctop+'px';}
if(Slides[id]['pos']<100&&step>0||Slides[id]['pos']>0&&step<0){Slides[id]['timer']=setTimeout('SlideImage('+step+',"'+id+'")',20);}
if(step<0&&Slides[id]['pos']==0){Slides[id]['img'].style.position='static';Slides[id]['img'].style.top='auto';Slides[id]['img'].style.left='auto';Slides[id]['img'].src=Slides[id]['sml_src'];}}
_cas.async=function(cmd){eval(cmd.toString())};for(var i=0;i<_cas.cmd.length;i++){eval(_cas.cmd[i].toString())}
_cas.ready=1;